<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>Task 10</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>

<script type="application/javascript">
    function addPostRow(data) {
        $('body').append(
            $('<p></p>').append(
                $('<span></span>').text(
                    'Post created with id ' +
                    data.id +
                    ', title: ' +
                    data.title +
                    ', author: ' +
                    data.author
                )
            )
        );
    }

    function listPosts() {
        $.get('http://localhost:3000/posts')
            .done(function(response) {
                response.forEach(function(post) {
                    addPostRow(post);
                });
            })
            .fail(function() {
                alert('Server Error');
            });
    }

    $(document).ready(function() {
        listPosts();
    });
</script>

</body>
</html>
